{"ast":null,"code":"export default {\n  data() {\n    return {\n      speed: 0,\n      direction: \"clockwise\",\n      // Initial direction\n      fanId: 1,\n      // Primary key of the ceiling fan,\n      mode: \"insert\"\n    };\n  },\n  mounted() {\n    // Fetch the initial values for the ceiling fan when the component mounts\n    this.fetchCeilingFan();\n  },\n  methods: {\n    async fetchCeilingFan() {\n      fetch('http://localhost:8080/api/hello').then(response => response.json()).then(data => {\n        console.log(data);\n      }).catch(error => {\n        console.log('Error fetching fan:', error);\n      });\n    },\n    // Method to increase the fan speed\n    async increaseSpeed() {\n      const newSpeed = this.speed + 1 > 3 ? 0 : this.speed + 1;\n      const data = {\n        speed: newSpeed,\n        direction: this.direction\n      };\n      await this.updateCeilingFan(data);\n      this.speed = newSpeed; // Update the local speed state\n    },\n    // Method to toggle the direction of the fan\n    async toggleDirection() {\n      const newDirection = this.direction === \"clockwise\" ? \"counter-clockwise\" : \"clockwise\";\n      const data = {\n        speed: this.speed,\n        direction: newDirection\n      };\n      await this.updateCeilingFan(data);\n      this.direction = newDirection; // Update the local direction state\n    },\n    // Helper method to update the ceiling fan in the backend\n    async updateCeilingFan(data) {\n      try {\n        if (this.mode == 'update') {\n          await this.$axios.put(`/ceiling-fan/${this.fanId}`, data);\n        } else {\n          await this.$axios.post(`/ceiling-fan/${this.fanId}`, data);\n        }\n      } catch (error) {\n        console.error(\"Failed to update ceiling fan:\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","speed","direction","fanId","mode","mounted","fetchCeilingFan","methods","fetch","then","response","json","console","log","catch","error","increaseSpeed","newSpeed","updateCeilingFan","toggleDirection","newDirection","$axios","put","post"],"sources":["/Users/alfredamorrissey/Sites/spring-vue-ceiling-fan/vue-app/src/App.vue"],"sourcesContent":["<template>\n    <div id=\"app\" class=\"ceiling-fan\">\n        <img src=\"/assets/ceiling-fan.png\" alt=\"My Image\" class=\"ceiling-fan-image\" />\n        <div>\n            <button @click=\"increaseSpeed\" >Speed</button>\n            <button @click=\"toggleDirection\">Direction</button>\n        </div>\n        <div>\n            <p><strong>Direction:</strong> {{ direction }}</p>\n            <p><strong>Speed:</strong> {{ speed }}</p>\n        </div>\n\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            speed: 0,\n            direction: \"clockwise\",  // Initial direction\n            fanId: 1,                // Primary key of the ceiling fan,\n            mode: \"insert\"\n        };\n\n    },\n    mounted() {\n        // Fetch the initial values for the ceiling fan when the component mounts\n        this.fetchCeilingFan();\n    },\n    methods: {\n        async fetchCeilingFan() {\n            fetch('http://localhost:8080/api/hello')\n                .then(response => response.json())\n                .then(data => {\n                    console.log(data);\n                })\n                .catch(error => {\n                    console.log('Error fetching fan:', error);\n                });\n\n        },\n        // Method to increase the fan speed\n        async increaseSpeed() {\n            const newSpeed = this.speed + 1 > 3 ? 0 : this.speed + 1;\n            const data = {\n                speed: newSpeed,\n                direction: this.direction\n            };\n\n            await this.updateCeilingFan(data);\n            this.speed = newSpeed;  // Update the local speed state\n        },\n\n        // Method to toggle the direction of the fan\n        async toggleDirection() {\n            const newDirection = this.direction === \"clockwise\" ? \"counter-clockwise\" : \"clockwise\";\n            const data = {\n                speed: this.speed,\n                direction: newDirection\n            };\n            await this.updateCeilingFan(data);\n            this.direction = newDirection;  // Update the local direction state\n        },\n\n        // Helper method to update the ceiling fan in the backend\n        async updateCeilingFan(data) {\n            try {\n                if (this.mode == 'update') {\n                    await this.$axios.put(`/ceiling-fan/${this.fanId}`, data);\n                } else {\n                    await this.$axios.post(`/ceiling-fan/${this.fanId}`, data);\n                }\n\n            } catch (error) {\n                console.error(\"Failed to update ceiling fan:\", error);\n            }\n        },\n\n    }\n};\n</script>\n\n<style scoped>\n#app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n}\n\n.ceiling-fan {\n    text-align: center;\n    margin-top: 20px;;\n}\n\nbutton {\n    margin: 10px;\n    padding: 10px;\n    font-size: 16px;\n    cursor: pointer;\n}\n\nbutton:disabled {\n    cursor: not-allowed;\n    background-color: #ccc;\n}\n\n.ceiling-fan-image {\n    width: 50%;\n    height: auto;\n    border-radius: 8px;\n}\n</style>\n"],"mappings":"AAgBA,eAAe;EACXA,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,KAAK,EAAE,CAAC;MACRC,SAAS,EAAE,WAAW;MAAG;MACzBC,KAAK,EAAE,CAAC;MAAiB;MACzBC,IAAI,EAAE;IACV,CAAC;EAEL,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN;IACA,IAAI,CAACC,eAAe,CAAC,CAAC;EAC1B,CAAC;EACDC,OAAO,EAAE;IACL,MAAMD,eAAeA,CAAA,EAAG;MACpBE,KAAK,CAAC,iCAAiC,EAClCC,IAAI,CAACC,QAAO,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAChCF,IAAI,CAACT,IAAG,IAAK;QACVY,OAAO,CAACC,GAAG,CAACb,IAAI,CAAC;MACrB,CAAC,EACAc,KAAK,CAACC,KAAI,IAAK;QACZH,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEE,KAAK,CAAC;MAC7C,CAAC,CAAC;IAEV,CAAC;IACD;IACA,MAAMC,aAAaA,CAAA,EAAG;MAClB,MAAMC,QAAO,GAAI,IAAI,CAAChB,KAAI,GAAI,IAAI,IAAI,IAAI,IAAI,CAACA,KAAI,GAAI,CAAC;MACxD,MAAMD,IAAG,GAAI;QACTC,KAAK,EAAEgB,QAAQ;QACff,SAAS,EAAE,IAAI,CAACA;MACpB,CAAC;MAED,MAAM,IAAI,CAACgB,gBAAgB,CAAClB,IAAI,CAAC;MACjC,IAAI,CAACC,KAAI,GAAIgB,QAAQ,EAAG;IAC5B,CAAC;IAED;IACA,MAAME,eAAeA,CAAA,EAAG;MACpB,MAAMC,YAAW,GAAI,IAAI,CAAClB,SAAQ,KAAM,WAAU,GAAI,mBAAkB,GAAI,WAAW;MACvF,MAAMF,IAAG,GAAI;QACTC,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBC,SAAS,EAAEkB;MACf,CAAC;MACD,MAAM,IAAI,CAACF,gBAAgB,CAAClB,IAAI,CAAC;MACjC,IAAI,CAACE,SAAQ,GAAIkB,YAAY,EAAG;IACpC,CAAC;IAED;IACA,MAAMF,gBAAgBA,CAAClB,IAAI,EAAE;MACzB,IAAI;QACA,IAAI,IAAI,CAACI,IAAG,IAAK,QAAQ,EAAE;UACvB,MAAM,IAAI,CAACiB,MAAM,CAACC,GAAG,CAAC,gBAAgB,IAAI,CAACnB,KAAK,EAAE,EAAEH,IAAI,CAAC;QAC7D,OAAO;UACH,MAAM,IAAI,CAACqB,MAAM,CAACE,IAAI,CAAC,gBAAgB,IAAI,CAACpB,KAAK,EAAE,EAAEH,IAAI,CAAC;QAC9D;MAEJ,EAAE,OAAOe,KAAK,EAAE;QACZH,OAAO,CAACG,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACzD;IACJ;EAEJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}